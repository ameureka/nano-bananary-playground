<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸŒ é¦™è•‰PSä¹å›­</title>
    
    <!-- é¢„è¿æ¥åˆ° Google å­—ä½“æœåŠ¡å™¨ä»¥æé«˜åŠ è½½é€Ÿåº¦ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- å¼•å…¥ 'Exo 2' å’Œ 'Roboto' å­—ä½“ -->
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- å¼•å…¥ Google Material Symbols å›¾æ ‡åº“ -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />

  <!-- importmap ç”¨äºåœ¨æµè§ˆå™¨ä¸­ç›´æ¥ç®¡ç† ES æ¨¡å—çš„å¯¼å…¥è·¯å¾„ï¼Œæ— éœ€æ‰“åŒ…å·¥å…· -->
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/",
    "react-dom": "https://aistudiocdn.com/react-dom@^19.1.1",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.17.0",
    "react-router-dom": "https://aistudiocdn.com/react-router-dom@^6.25.1",
    "zustand": "https://aistudiocdn.com/zustand@^4.5.4",
    "zustand/middleware": "https://aistudiocdn.com/zustand@^4.5.4/middleware",
    "zustand/": "https://aistudiocdn.com/zustand@^5.0.8/"
  }
}
</script>
<!-- å¼•å…¥åº”ç”¨çš„ CSS æ ·å¼ -->
<link rel="stylesheet" href="/styles/globals.css">
<!-- ç§»é™¤é—ç•™çš„ index.css é“¾æ¥ï¼Œæ ·å¼é›†ä¸­äº styles/globals.css -->
</head>
  <body>
    <!-- åˆå§‹åŠ è½½åŠ¨ç”» -->
    <div id="loader"><h1>ğŸŒ é¦™è•‰PSä¹å›­</h1></div>
    <!-- React åº”ç”¨çš„æŒ‚è½½ç‚¹ -->
    <div id="root"></div>
    <!-- å¼•å…¥ React åº”ç”¨çš„å…¥å£è„šæœ¬ -->
    <script type="module" src="/index.tsx"></script>
    <script>
      // é¡µé¢åŠ è½½å®Œæˆåï¼Œå¹³æ»‘åœ°éšè—åŠ è½½åŠ¨ç”»
      const hideLoader = () => {
        const loader = document.getElementById('loader');
        if (!loader) return;
        loader.style.opacity = '0';
        setTimeout(() => { loader.style.display = 'none'; }, 300);
      };
      if (document.readyState === 'complete' || document.readyState === 'interactive') {
        requestAnimationFrame(hideLoader);
      } else {
        window.addEventListener('DOMContentLoaded', hideLoader, { once: true });
        window.addEventListener('load', hideLoader, { once: true });
      }
      
      // å…¨å±€æ°´æ³¢çº¹æ•ˆæœé€»è¾‘
      function createRipple(event, surface) {
          const rect = surface.getBoundingClientRect();
          const circle = document.createElement("span");
          const diameter = Math.max(rect.width, rect.height);
          const radius = diameter / 2;

          circle.style.width = circle.style.height = `${diameter}px`;
          circle.style.left = `${event.clientX - rect.left - radius}px`;
          circle.style.top = `${event.clientY - rect.top - radius}px`;
          circle.classList.add("ripple-effect");

          // ç§»é™¤æ—§çš„æ°´æ³¢çº¹æ•ˆæœï¼Œç¡®ä¿ä¸€æ¬¡åªæœ‰ä¸€ä¸ª
          const oldRipple = surface.querySelector(".ripple-effect");
          if (oldRipple) {
              oldRipple.remove();
          }

          surface.appendChild(circle);

          // åŠ¨ç”»ç»“æŸåç§»é™¤å…ƒç´ 
          circle.addEventListener('animationend', () => {
              circle.remove();
          });
      }

      // ä½¿ç”¨äº‹ä»¶å§”æ‰˜æ¥å¤„ç†åŠ¨æ€åˆ›å»ºçš„å…ƒç´ ä¸Šçš„æ°´æ³¢çº¹æ•ˆæœ
      document.addEventListener('mousedown', function(event) {
          if (event.button !== 0) return; // ä»…å¤„ç†é¼ æ ‡å·¦é”®ç‚¹å‡»
          
          // æŸ¥æ‰¾ç‚¹å‡»ç›®æ ‡æˆ–å…¶çˆ¶å…ƒç´ ä¸­å¸¦æœ‰ .ripple-surface ç±»åçš„å…ƒç´ 
          const surface = event.target.closest('.ripple-surface');
          if (surface) {
              createRipple(event, surface);
          }
      });
    </script>
  </body>
</html>