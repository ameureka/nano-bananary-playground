# ğŸ› ï¸ å¼€å‘æ–‡æ¡£

æœ¬æ–‡æ¡£é¢å‘å¼€å‘è€…ï¼Œä»‹ç»å¦‚ä½•æ‰©å±•å’Œå®šåˆ¶é¦™è•‰PSä¹å›­ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
é¦™è•‰PSä¹å›­-(banana-ps-playground)/
â”œâ”€â”€ app/                          # é¡µé¢è·¯ç”±
â”‚   â”œâ”€â”€ layout.tsx               # æ ¹å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ page.tsx                 # å¢å¼ºå™¨ä¸»é¡µ
â”‚   â”œâ”€â”€ chat/page.tsx            # AI å¯¹è¯é¡µé¢
â”‚   â””â”€â”€ library/page.tsx         # èµ„äº§åº“é¡µé¢
â”‚
â”œâ”€â”€ components/                   # React ç»„ä»¶
â”‚   â”œâ”€â”€ common/                  # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ features/                # åŠŸèƒ½æ¨¡å—ç»„ä»¶
â”‚   â””â”€â”€ layout/                  # å¸ƒå±€ç»„ä»¶
â”‚
â”œâ”€â”€ services/                     # API æœåŠ¡å±‚
â”‚   â””â”€â”€ geminiService.ts        # Gemini API å°è£…
â”‚
â”œâ”€â”€ store/                        # Zustand çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ enhancerStore.ts        # å¢å¼ºå™¨çŠ¶æ€
â”‚   â”œâ”€â”€ chatStore.ts            # å¯¹è¯çŠ¶æ€
â”‚   â”œâ”€â”€ assetLibraryStore.ts    # èµ„äº§åº“çŠ¶æ€
â”‚   â”œâ”€â”€ uiStore.ts              # UI çŠ¶æ€
â”‚   â””â”€â”€ logStore.ts             # æ—¥å¿—è®°å½•
â”‚
â”œâ”€â”€ i18n/                         # å›½é™…åŒ–
â”‚   â”œâ”€â”€ context.tsx             # i18n ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ translations.ts         # ç¿»è¯‘é…ç½®
â”‚   â”œâ”€â”€ zh.ts / en.ts           # è¯­è¨€æ–‡ä»¶
â”‚   â”œâ”€â”€ zh-ui.ts / en-ui.ts     # UI ç¿»è¯‘
â”‚   â””â”€â”€ zh-effects.ts / en-effects.ts  # æ•ˆæœç¿»è¯‘
â”‚
â”œâ”€â”€ lib/                          # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â””â”€â”€ actions.ts              # API è°ƒç”¨å°è£…
â”‚
â”œâ”€â”€ utils/                        # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ fileUtils.ts            # æ–‡ä»¶å¤„ç†
â”‚   â””â”€â”€ env.ts                  # ç¯å¢ƒå˜é‡ç®¡ç†
â”‚
â”œâ”€â”€ styles/                       # å…¨å±€æ ·å¼
â”‚   â””â”€â”€ globals.css             # Material Design 3 ä¸»é¢˜
â”‚
â”œâ”€â”€ theme/                        # ä¸»é¢˜ç®¡ç†
â”‚   â””â”€â”€ context.tsx             # ä¸»é¢˜ä¸Šä¸‹æ–‡
â”‚
â”œâ”€â”€ constants.ts                  # å¸¸é‡å®šä¹‰ï¼ˆ86ç§æ•ˆæœé…ç½®ï¼‰
â”œâ”€â”€ types.ts                      # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ providers.tsx                 # å…¨å±€ Provider ç»„åˆ
â”œâ”€â”€ App.tsx                       # åº”ç”¨å…¥å£
â”œâ”€â”€ index.tsx                     # React æ¸²æŸ“å…¥å£
â”œâ”€â”€ vite.config.ts               # Vite é…ç½®
â””â”€â”€ tsconfig.json                # TypeScript é…ç½®
```

## ğŸ¨ æ·»åŠ æ–°æ•ˆæœ

### æ­¥éª¤ 1ï¼šç¡®å®šæ•ˆæœç±»å‹

é¦–å…ˆç¡®å®šä½ çš„æ•ˆæœå±äºå“ªç§ç±»å‹ï¼š

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| Type 1 | å•å›¾æ ‡å‡†æ•ˆæœ | ä¹é«˜å°äººä»”ã€é«˜æ¸…å¢å¼º |
| Type 2 | å¤šå›¾ç½‘æ ¼æ•ˆæœ | æ‹ç«‹å¾—åˆç…§ |
| Type 3 | åŒå›¾å¤šæ¨¡æ€æ•ˆæœ | å§¿åŠ¿è¿ç§»ã€é£æ ¼æ¨¡ä»¿ |
| Type 4 | é£æ ¼æ¨¡ä»¿æ•ˆæœ | é£æ ¼æ¨¡ä»¿ï¼ˆç‰¹æ®Šï¼‰ |
| Type 5 | ä¸¤æ­¥å¤„ç†æ•ˆæœ | é…è‰²æ–¹æ¡ˆ |
| Type 6 | è§†é¢‘ç”Ÿæˆæ•ˆæœ | è§†é¢‘ç”Ÿæˆ |
| Type 7 | å¤šæ­¥è§†é¢‘æ•ˆæœ | åŠ¨æ€æ‹ç«‹å¾— |

### æ­¥éª¤ 2ï¼šåœ¨ constants.ts ä¸­æ·»åŠ é…ç½®

```typescript
// constants.ts
{
  key: "myNewEffect",                    // å”¯ä¸€æ ‡è¯†
  titleKey: "transformations.effects.myNewEffect.title",
  descriptionKey: "transformations.effects.myNewEffect.description",
  prompt: "Your AI prompt here...",      // å‘é€ç»™ Gemini çš„æç¤ºè¯
  icon: "auto_awesome",                  // Material Symbols å›¾æ ‡å
  
  // æ ¹æ®ç±»å‹æ·»åŠ ç‰¹æ®Šå±æ€§
  // maxImages: 4,                       // Type 2: å¤šå›¾ç½‘æ ¼
  // isMultiImage: true,                 // Type 3: åŒå›¾å¤šæ¨¡æ€
  // isStyleMimic: true,                 // Type 4: é£æ ¼æ¨¡ä»¿
  // isTwoStep: true,                    // Type 5: ä¸¤æ­¥å¤„ç†
  // stepTwoPrompt: "...",               // Type 5: ç¬¬äºŒæ­¥æç¤º
  // isVideo: true,                      // Type 6: è§†é¢‘ç”Ÿæˆ
  // isMultiStepVideo: true,             // Type 7: å¤šæ­¥è§†é¢‘
  // videoPrompt: "...",                 // Type 7: è§†é¢‘æç¤º
}
```

### æ­¥éª¤ 3ï¼šæ·»åŠ ç¿»è¯‘

**ä¸­æ–‡ç¿»è¯‘** (`i18n/zh-effects.ts`):
```typescript
myNewEffect: { 
  title: "æˆ‘çš„æ–°æ•ˆæœ", 
  description: "æ•ˆæœæè¿°..." 
}
```

**è‹±æ–‡ç¿»è¯‘** (`i18n/en-effects.ts`):
```typescript
myNewEffect: { 
  title: "My New Effect", 
  description: "Effect description..." 
}
```

**å¦‚æœæ˜¯å¤šå›¾æ•ˆæœï¼Œè¿˜éœ€è¦æ·»åŠ ä¸Šä¼ å™¨ç¿»è¯‘**:
```typescript
myNewEffect: {
  title: "...",
  description: "...",
  uploader1Title: "ä¸»å›¾",
  uploader1Desc: "ä¸Šä¼ è¦ç¼–è¾‘çš„å›¾ç‰‡",
  uploader2Title: "å‚è€ƒå›¾",
  uploader2Desc: "ä¸Šä¼ å‚è€ƒå›¾ç‰‡"
}
```

### æ­¥éª¤ 4ï¼šæµ‹è¯•æ•ˆæœ

1. é‡å¯å¼€å‘æœåŠ¡å™¨ï¼ˆå¦‚æœéœ€è¦ï¼‰
2. åœ¨æ•ˆæœé€‰æ‹©å™¨ä¸­æ‰¾åˆ°æ–°æ•ˆæœ
3. æµ‹è¯•å„ç§è¾“å…¥æƒ…å†µ
4. æ£€æŸ¥é”™è¯¯å¤„ç†

### ç¤ºä¾‹ï¼šæ·»åŠ ä¸€ä¸ªç®€å•çš„å•å›¾æ•ˆæœ

```typescript
// constants.ts - åœ¨ TRANSFORMATIONS æ•°ç»„ä¸­æ·»åŠ 
{
  key: "category_artistic",
  titleKey: "transformations.categories.effects.title",
  icon: "auto_awesome",
  items: [
    // ... å…¶ä»–æ•ˆæœ
    {
      key: "oilPainting",
      titleKey: "transformations.effects.oilPainting.title",
      prompt: "Transform this image into a classical oil painting with visible brushstrokes, rich colors, and a textured canvas appearance.",
      icon: "palette",
      descriptionKey: "transformations.effects.oilPainting.description"
    }
  ]
}
```

```typescript
// i18n/zh-effects.ts
oilPainting: {
  title: "æ²¹ç”»é£æ ¼",
  description: "å°†å›¾ç‰‡è½¬æ¢ä¸ºç»å…¸æ²¹ç”»ï¼Œå¸¦æœ‰æ˜æ˜¾çš„ç¬”è§¦å’Œä¸°å¯Œçš„è‰²å½©"
}

// i18n/en-effects.ts
oilPainting: {
  title: "Oil Painting",
  description: "Transform the image into a classical oil painting with visible brushstrokes"
}
```

## ğŸ”§ ä¿®æ”¹ç°æœ‰åŠŸèƒ½

### ä¿®æ”¹æ•ˆæœæç¤ºè¯

ç›´æ¥åœ¨ `constants.ts` ä¸­ä¿®æ”¹ `prompt` å­—æ®µï¼š

```typescript
{
  key: "pixelArt",
  prompt: "Redraw the image in a retro 8-bit pixel art style with vibrant colors.",
  // ä¿®æ”¹ä¸ºï¼š
  prompt: "Redraw the image in a retro 16-bit pixel art style with smooth gradients and detailed sprites.",
}
```

### ä¿®æ”¹ç”Ÿæˆå‚æ•°

åœ¨ `services/geminiService.ts` ä¸­ä¿®æ”¹ API è°ƒç”¨å‚æ•°ï¼š

```typescript
// ä¿®æ”¹å›¾ç‰‡ç”Ÿæˆçš„é»˜è®¤é…ç½®
const config = {
  numberOfImages: numImages,
  outputMimeType: 'image/png',
  aspectRatio: aspectRatio !== 'Auto' ? aspectRatio : undefined,
  // æ·»åŠ æ–°å‚æ•°
  // negativePrompt: "blurry, low quality",
  // guidanceScale: 7.5,
};
```

### æ·»åŠ æ–°çš„çŠ¶æ€

åœ¨ç›¸åº”çš„ store ä¸­æ·»åŠ æ–°çŠ¶æ€ï¼š

```typescript
// store/enhancerStore.ts
export interface EnhancerState {
  // ... ç°æœ‰çŠ¶æ€
  myNewState: string;  // æ·»åŠ æ–°çŠ¶æ€
}

export interface EnhancerActions {
  // ... ç°æœ‰æ“ä½œ
  setMyNewState: (value: string) => void;  // æ·»åŠ æ–°æ“ä½œ
}

// åœ¨ create å‡½æ•°ä¸­å®ç°
export const useEnhancerStore = create<EnhancerStore>()(
  persist(
    (set, get) => ({
      // ... ç°æœ‰å®ç°
      myNewState: '',
      setMyNewState: (value) => set({ myNewState: value }),
    }),
    // ...
  )
);
```

## ğŸ¨ è‡ªå®šä¹‰æ ·å¼

### ä¿®æ”¹ä¸»é¢˜é¢œè‰²

åœ¨ `styles/globals.css` ä¸­ä¿®æ”¹ Material Design 3 é¢œè‰²ä»¤ç‰Œï¼š

```css
:root {
  /* ä¸»è‰²è°ƒ */
  --md-sys-color-primary: #6750A4;
  --md-sys-color-on-primary: #FFFFFF;
  
  /* ä¿®æ”¹ä¸ºä½ çš„å“ç‰Œè‰² */
  --md-sys-color-primary: #FF6B6B;
  --md-sys-color-on-primary: #FFFFFF;
}
```

### æ·»åŠ æ–°çš„ç»„ä»¶æ ·å¼

```css
/* styles/globals.css */
.my-custom-component {
  background-color: var(--md-sys-color-surface);
  color: var(--md-sys-color-on-surface);
  border-radius: 12px;
  padding: 1rem;
}
```

### ä¿®æ”¹å¸ƒå±€

åœ¨ `app/page.tsx` ä¸­ä¿®æ”¹ä¸»é¡µå¸ƒå±€ï¼š

```typescript
// ä¿®æ”¹ç½‘æ ¼åˆ—æ•°
<div style={{
  display: 'grid',
  gridTemplateColumns: 'repeat(auto-fit, minmax(350px, 1fr))',  // å½“å‰
  // ä¿®æ”¹ä¸ºå›ºå®šä¸¤åˆ—
  gridTemplateColumns: '1fr 1fr',
  gap: '2rem'
}}>
```

## ğŸŒ æ·»åŠ æ–°è¯­è¨€

### æ­¥éª¤ 1ï¼šåˆ›å»ºè¯­è¨€æ–‡ä»¶

```typescript
// i18n/ja.ts (æ—¥è¯­ç¤ºä¾‹)
import { jaUI } from './ja-ui';
import { jaEffects } from './ja-effects';

export const ja = {
  ...jaUI,
  transformations: {
    categories: { /* ... */ },
    effects: jaEffects,
  }
};
```

### æ­¥éª¤ 2ï¼šåˆ›å»ºç¿»è¯‘æ–‡ä»¶

```typescript
// i18n/ja-ui.ts
export const jaUI = {
  app: {
    title: "ãƒãƒŠãƒŠPSãƒ—ãƒ¬ã‚¤ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰",
    generateImage: "ç”»åƒã‚’ç”Ÿæˆ",
    // ... å…¶ä»–ç¿»è¯‘
  }
};

// i18n/ja-effects.ts
export const jaEffects = {
  pixelArt: {
    title: "ãƒ”ã‚¯ã‚»ãƒ«ã‚¢ãƒ¼ãƒˆ",
    description: "ãƒ¬ãƒˆãƒ­ãª8ãƒ“ãƒƒãƒˆãƒ”ã‚¯ã‚»ãƒ«ã‚¢ãƒ¼ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã«å¤‰æ›"
  },
  // ... å…¶ä»–æ•ˆæœç¿»è¯‘
};
```

### æ­¥éª¤ 3ï¼šæ³¨å†Œè¯­è¨€

```typescript
// i18n/translations.ts
import { zh } from './zh';
import { en } from './en';
import { ja } from './ja';  // å¯¼å…¥æ–°è¯­è¨€

export const translations = {
  zh,
  en,
  ja,  // æ³¨å†Œæ–°è¯­è¨€
};

export type Language = 'zh' | 'en' | 'ja';  // æ·»åŠ ç±»å‹
```

### æ­¥éª¤ 4ï¼šæ›´æ–°è¯­è¨€åˆ‡æ¢å™¨

```typescript
// components/LanguageSwitcher.tsx
const languages: { code: Language; label: string }[] = [
  { code: 'zh', label: 'ä¸­æ–‡' },
  { code: 'en', label: 'English' },
  { code: 'ja', label: 'æ—¥æœ¬èª' },  // æ·»åŠ æ–°è¯­è¨€
];
```

## ğŸ”Œ é›†æˆæ–°çš„ AI æ¨¡å‹

### æ·»åŠ æ–°çš„ API æœåŠ¡

```typescript
// services/newAiService.ts
export async function generateWithNewModel(
  prompt: string,
  options: any
): Promise<GeneratedContent> {
  // å®ç°æ–°æ¨¡å‹çš„ API è°ƒç”¨
  const response = await fetch('https://api.newai.com/generate', {
    method: 'POST',
    headers: {
      'Authorization': `Bearer ${getApiKey()}`,
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ prompt, ...options }),
  });
  
  const data = await response.json();
  
  return {
    imageUrl: data.imageUrl,
    text: data.text,
  };
}
```

### åœ¨ actions.ts ä¸­å°è£…

```typescript
// lib/actions.ts
import { generateWithNewModel } from '../services/newAiService';

export async function generateWithNewModelAction(
  prompt: string,
  options: any
): Promise<GeneratedContent> {
  try {
    return await generateWithNewModel(prompt, options);
  } catch (error) {
    console.error('Error in generateWithNewModelAction:', error);
    throw error;
  }
}
```

### åœ¨ store ä¸­ä½¿ç”¨

```typescript
// store/enhancerStore.ts
generateWithNewModel: async () => {
  const { customPrompt } = get();
  set({ isGenerating: true, error: null });
  
  try {
    const result = await generateWithNewModelAction(customPrompt, {});
    set({ generatedContent: result });
  } catch (err) {
    set({ error: err.message });
  } finally {
    set({ isGenerating: false });
  }
}
```

## ğŸ“¦ æ·»åŠ æ–°çš„ä¾èµ–

### å®‰è£…ä¾èµ–

```bash
npm install package-name
npm install --save-dev @types/package-name  # å¦‚æœéœ€è¦ç±»å‹å®šä¹‰
```

### åœ¨ä»£ç ä¸­ä½¿ç”¨

```typescript
import { someFunction } from 'package-name';

// ä½¿ç”¨æ–°ä¾èµ–
const result = someFunction();
```

### æ›´æ–°æ–‡æ¡£

åœ¨ `package.json` ä¸­æ·»åŠ ä¾èµ–è¯´æ˜ï¼š

```json
{
  "dependencies": {
    "package-name": "^1.0.0"  // æ·»åŠ è¯´æ˜æ³¨é‡Š
  }
}
```

## ğŸ§ª æµ‹è¯•

### æ‰‹åŠ¨æµ‹è¯•æ¸…å•

åˆ›å»ºæµ‹è¯•æ¸…å•æ–‡ä»¶ï¼š

```markdown
# æµ‹è¯•æ¸…å•

## å›¾åƒå¢å¼ºå™¨
- [ ] å•å›¾æ•ˆæœæ­£å¸¸å·¥ä½œ
- [ ] å¤šå›¾ç½‘æ ¼æ•ˆæœæ­£å¸¸å·¥ä½œ
- [ ] åŒå›¾æ•ˆæœæ­£å¸¸å·¥ä½œ
- [ ] è’™ç‰ˆç¼–è¾‘åŠŸèƒ½æ­£å¸¸
- [ ] é”™è¯¯å¤„ç†æ­£ç¡®æ˜¾ç¤º

## AI å¯¹è¯
- [ ] æ–‡æœ¬å¯¹è¯æ­£å¸¸
- [ ] å›¾ç‰‡ä¸Šä¼ å’Œåˆ†ææ­£å¸¸
- [ ] å›¾ç‰‡ç”Ÿæˆæ­£å¸¸
- [ ] æ¶ˆæ¯ç¼–è¾‘å’Œé‡æ–°ç”Ÿæˆæ­£å¸¸

## èµ„äº§åº“
- [ ] å›¾ç‰‡è‡ªåŠ¨ä¿å­˜
- [ ] æ‰¹é‡æ“ä½œæ­£å¸¸
- [ ] ç”¨ä½œè¾“å…¥åŠŸèƒ½æ­£å¸¸

## å“åº”å¼
- [ ] æ¡Œé¢ç«¯å¸ƒå±€æ­£å¸¸
- [ ] ç§»åŠ¨ç«¯å¸ƒå±€æ­£å¸¸
- [ ] å¹³æ¿ç«¯å¸ƒå±€æ­£å¸¸
```

### æ·»åŠ å•å…ƒæµ‹è¯•ï¼ˆå¯é€‰ï¼‰

```bash
# å®‰è£…æµ‹è¯•æ¡†æ¶
npm install --save-dev vitest @testing-library/react @testing-library/jest-dom
```

```typescript
// __tests__/utils/fileUtils.test.ts
import { describe, it, expect } from 'vitest';
import { embedWatermark } from '../../utils/fileUtils';

describe('fileUtils', () => {
  it('should embed watermark in image', async () => {
    const imageUrl = 'data:image/png;base64,...';
    const watermarked = await embedWatermark(imageUrl, 'Test');
    expect(watermarked).toBeDefined();
    expect(watermarked).not.toBe(imageUrl);
  });
});
```

## ğŸš€ æ„å»ºå’Œéƒ¨ç½²

### æœ¬åœ°æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
npm run preview
```

### ç¯å¢ƒå˜é‡é…ç½®

```bash
# .env.local (å¼€å‘ç¯å¢ƒ)
GEMINI_API_KEY=your_dev_key

# .env.production (ç”Ÿäº§ç¯å¢ƒ)
GEMINI_API_KEY=your_prod_key
```

### éƒ¨ç½²åˆ° Vercel

1. åœ¨ Vercel ä¸­å¯¼å…¥ GitHub ä»“åº“
2. é…ç½®ç¯å¢ƒå˜é‡ï¼š
   - `GEMINI_API_KEY`: ä½ çš„ API å¯†é’¥
3. ç‚¹å‡»éƒ¨ç½²

### éƒ¨ç½²åˆ° Netlify

1. æ„å»ºé¡¹ç›®ï¼š`npm run build`
2. åœ¨ Netlify ä¸­åˆ›å»ºæ–°ç«™ç‚¹
3. ä¸Šä¼  `dist` æ–‡ä»¶å¤¹
4. é…ç½®ç¯å¢ƒå˜é‡

### éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨

```bash
# 1. æ„å»ºé¡¹ç›®
npm run build

# 2. ä¸Šä¼  dist æ–‡ä»¶å¤¹åˆ°æœåŠ¡å™¨
scp -r dist/* user@server:/var/www/html/

# 3. é…ç½® Nginx
server {
    listen 80;
    server_name your-domain.com;
    root /var/www/html;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}
```

## ğŸ› è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹ API è°ƒç”¨æ—¥å¿—

```typescript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°
useLogStore.getState().logs
```

### æŸ¥çœ‹ Store çŠ¶æ€

```typescript
// æŸ¥çœ‹å¢å¼ºå™¨çŠ¶æ€
useEnhancerStore.getState()

// æŸ¥çœ‹å¯¹è¯çŠ¶æ€
useChatStore.getState()

// æŸ¥çœ‹èµ„äº§åº“çŠ¶æ€
useAssetLibraryStore.getState()
```

### å¼€å¯è¯¦ç»†æ—¥å¿—

```typescript
// services/geminiService.ts
const DEBUG = true;  // å¼€å¯è°ƒè¯•æ¨¡å¼

if (DEBUG) {
  console.log('API Request:', request);
  console.log('API Response:', response);
}
```

### ä½¿ç”¨ React DevTools

1. å®‰è£… React DevTools æµè§ˆå™¨æ‰©å±•
2. æ‰“å¼€å¼€å‘è€…å·¥å…·
3. åˆ‡æ¢åˆ° React æ ‡ç­¾
4. æŸ¥çœ‹ç»„ä»¶æ ‘å’Œ Props
5. ä½¿ç”¨ Profiler åˆ†ææ€§èƒ½

## ğŸ“š ä»£ç è§„èŒƒ

### TypeScript è§„èŒƒ

```typescript
// ä½¿ç”¨æ˜ç¡®çš„ç±»å‹å®šä¹‰
interface MyComponentProps {
  title: string;
  count: number;
  onAction: () => void;
}

// é¿å…ä½¿ç”¨ any
const myFunction = (data: unknown) => {
  // ä½¿ç”¨ç±»å‹å®ˆå«
  if (typeof data === 'string') {
    // ...
  }
};

// ä½¿ç”¨å¯é€‰é“¾å’Œç©ºå€¼åˆå¹¶
const value = obj?.property ?? 'default';
```

### React è§„èŒƒ

```typescript
// ä½¿ç”¨å‡½æ•°ç»„ä»¶å’Œ Hooks
const MyComponent: React.FC<Props> = ({ title }) => {
  const [state, setState] = useState('');
  
  useEffect(() => {
    // å‰¯ä½œç”¨
  }, []);
  
  return <div>{title}</div>;
};

// ä½¿ç”¨ memo ä¼˜åŒ–æ€§èƒ½
export default React.memo(MyComponent);
```

### CSS è§„èŒƒ

```css
/* ä½¿ç”¨ BEM å‘½å */
.card {}
.card__header {}
.card__header--active {}

/* ä½¿ç”¨ CSS å˜é‡ */
.my-component {
  color: var(--md-sys-color-primary);
  padding: var(--spacing-md);
}

/* é¿å…æ·±å±‚åµŒå¥— */
.parent .child {}  /* æœ€å¤š2å±‚ */
```

## ğŸ” å®‰å…¨æœ€ä½³å®è·µ

### API å¯†é’¥ä¿æŠ¤

```typescript
// âŒ ä¸è¦ç¡¬ç¼–ç  API å¯†é’¥
const API_KEY = 'AIzaSy...';

// âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡
const API_KEY = import.meta.env.VITE_GEMINI_API_KEY;

// âœ… åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨åç«¯ä»£ç†
const response = await fetch('/api/generate', {
  method: 'POST',
  body: JSON.stringify({ prompt }),
});
```

### è¾“å…¥éªŒè¯

```typescript
// éªŒè¯ç”¨æˆ·è¾“å…¥
const validatePrompt = (prompt: string): boolean => {
  if (!prompt || prompt.trim().length === 0) {
    return false;
  }
  if (prompt.length > 1000) {
    return false;
  }
  return true;
};
```

### XSS é˜²æŠ¤

```typescript
// React è‡ªåŠ¨è½¬ä¹‰ï¼Œä½†è¦æ³¨æ„ dangerouslySetInnerHTML
// âŒ å±é™©
<div dangerouslySetInnerHTML={{ __html: userInput }} />

// âœ… å®‰å…¨
<div>{userInput}</div>
```

## ğŸ“– å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [React æ–‡æ¡£](https://react.dev/)
- [TypeScript æ–‡æ¡£](https://www.typescriptlang.org/docs/)
- [Vite æ–‡æ¡£](https://vitejs.dev/)
- [Zustand æ–‡æ¡£](https://zustand-demo.pmnd.rs/)
- [Google Gemini API æ–‡æ¡£](https://ai.google.dev/docs)

### è®¾è®¡èµ„æº

- [Material Design 3](https://m3.material.io/)
- [Material Symbols](https://fonts.google.com/icons)

### ç¤¾åŒºèµ„æº

- [GitHub Discussions](https://github.com/ameureka/nano-bananary-playground/discussions)
- [Stack Overflow](https://stackoverflow.com/questions/tagged/react)

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2025-10-27

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ GitHub æäº¤ Issue æˆ– Pull Requestï¼
