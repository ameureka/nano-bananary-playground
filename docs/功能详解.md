# 📚 功能详解

本文档详细介绍香蕉PS乐园的所有功能和使用方法。

## 🎨 图像增强器

图像增强器是应用的核心功能，提供 **86 种** AI 驱动的图像效果。

### 效果分类

#### 🎉 病毒式传播 (Viral) - 11个效果

适合社交媒体分享的创意效果：

| 效果名称 | 说明 | 输入要求 |
|---------|------|---------|
| 拍立得合照 | 生成温馨搞笑的拍立得照片 | 1-4张图片 |
| 动态拍立得 | 让拍立得照片动起来 | 1-4张图片 → 视频 |
| 3D手办 | 转换为可收藏的角色手办 | 1张图片 |
| Cosplay | 将动漫角色转换为真人 Cosplay | 1张图片 |
| Funko Pop | 转换为 Funko Pop 玩具风格 | 1张图片 |
| LEGO小人仔 | 转换为乐高玩具风格 | 1张图片 |
| 钩针娃娃 | 手工编织娃娃风格 | 1张图片 |
| 毛绒玩具 | 可爱的毛绒玩具风格 | 1张图片 |
| 亚克力钥匙扣 | 周边产品效果 | 1张图片 |
| 极简插画 | 黑白极简风格插画 | 1-4张图片 |
| 纸模风格 | 立体纸模型效果 | 1张图片 |

**使用技巧**：
- 拍立得效果最适合人物照片
- 上传多张照片时，AI 会自动组合成合照
- 动态拍立得需要先选择一张静态拍立得，再生成视频

#### 📷 照片处理 (Photo) - 7个效果

专业的照片编辑和增强：

| 效果名称 | 说明 | 适用场景 |
|---------|------|---------|
| 高清增强 | 提升分辨率和清晰度 | 模糊照片、低分辨率图片 |
| 照片级真实 | 将插画转换为照片 | 动漫、插画、卡通图片 |
| 时尚杂志 | 高级时尚摄影风格 | 人像照片 |
| 超写实 | 强闪光灯效果 | 人像、产品照片 |
| 分离并增强 | 智能背景移除 | 需要抠图的照片 |
| 妆容分析 | AI 妆容建议 | 人像照片 |
| 随意拍摄 | 自然快照效果 | 任何照片 |

**使用技巧**：
- 高清增强对模糊照片效果最好
- 照片级真实适合将动漫角色变成真人
- 使用蒙版工具可以精确控制编辑区域

#### 🎨 设计工具 (Design) - 5个效果

专业设计师的得力助手：

| 效果名称 | 说明 | 适用场景 |
|---------|------|---------|
| 建筑模型 | 建筑物转微缩模型 | 建筑照片 |
| 产品渲染 | 草图转 3D 渲染 | 产品草图 |
| 工业设计渲染 | 设计稿转产品照 | 工业设计图 |
| iPhone壁纸效果 | 生成手机锁屏界面 | 任何图片 |
| 汽水罐设计 | 产品包装设计 | 图案、插画 |

**使用技巧**：
- 建筑模型适合拍摄的建筑物照片
- 产品渲染可以将手绘草图变成逼真的 3D 效果
- iPhone壁纸会自动添加时间、日期等界面元素

#### 🛠️ 实用工具 (Tools) - 12个效果

强大的图像处理工具集：

| 效果名称 | 说明 | 输入要求 | 特殊功能 |
|---------|------|---------|---------|
| 自定义提示 | 完全自由的 AI 编辑 | 1-2张图片 + 文本 | 支持多模态 |
| 视频生成 | 文本/图片转视频 | 文本或图片 | Veo 3.1 模型 |
| 姿势参考 | 姿势迁移 | 2张图片 | 多模态 |
| 风格模仿 | 智能风格迁移 | 2张图片 | 两步处理 |
| 表情参考 | 表情迁移 | 2张图片 | 多模态 |
| 线稿绘画 | 生成手绘线稿 | 1张图片 | - |
| 色板换色 | 应用调色板 | 2张图片 | 两步处理 |
| 绘画过程 | 4步创作过程图 | 1张图片 | - |
| 马克笔素描 | Copic 马克笔风格 | 1张图片 | - |
| 添加插画 | 在场景中添加角色 | 1张图片 | - |
| 更换背景 | Y2K 美学背景 | 1张图片 | - |
| 3D屏幕效果 | 裸眼3D效果 | 1张图片 | - |

**使用技巧**：
- **自定义提示**：最灵活的工具，可以输入任何创意想法
- **姿势参考**：第一张图是要改变姿势的角色，第二张图是姿势参考
- **风格模仿**：第一张图是内容，第二张图是风格参考
- **色板换色**：第一张图是原图，第二张图是调色板

#### ✨ 艺术效果 (Artistic) - 51个效果

丰富的艺术风格转换：

**经典艺术风格**：
- 梵高风格、印象派、立体主义、浮世绘、水彩画、油画等

**现代风格**：
- 波普艺术、赛博朋克、蒸汽朋克、故障艺术、霓虹灯光等

**手工艺风格**：
- 十字绣、木雕、冰雕、纸艺、编织、陶瓷等

**数字艺术**：
- 像素艺术、矢量艺术、低多边形、全息图等

**特殊效果**：
- 双重曝光、热成像、红外线、X光、烟雾、火焰、水流等

### 效果类型说明

应用支持 **7 种不同的效果处理类型**：

#### Type 1: 单图标准效果（55个）
- **输入**：1张图片
- **示例**：乐高小人仔、高清增强、像素艺术
- **使用**：最简单，上传一张图片即可

#### Type 2: 多图网格效果（3个）
- **输入**：1-4张图片（2x2网格）
- **示例**：拍立得合照、极简插画
- **使用**：在网格上传器中上传多张照片

#### Type 3: 双图多模态效果（5个）
- **输入**：2张图片（第二张可选）
- **示例**：自定义提示、姿势迁移、表情参考
- **使用**：左右两个上传器，分别上传主图和参考图

#### Type 4: 风格模仿效果（1个）
- **输入**：2张图片（内容图 + 风格图）
- **特殊处理**：两步 AI 调用
- **数据流**：
  ```
  Step 1: 风格图 → Gemini (文本生成) → 风格描述
  Step 2: 内容图 + 风格描述 → Gemini (图像生成) → 结果
  ```

#### Type 5: 两步处理效果（1个）
- **输入**：2张图片（原图 + 调色板）
- **效果**：配色方案
- **数据流**：
  ```
  Step 1: 原图 → 生成线稿
  Step 2: 线稿 + 调色板 → 上色结果
  ```

#### Type 6: 视频生成效果（1个）
- **输入**：文本提示 + 可选图片
- **模型**：Veo 3.1 Fast
- **时长**：约 5-8 秒
- **格式**：MP4

#### Type 7: 多步视频效果（1个）
- **输入**：1-4张图片
- **效果**：动态拍立得
- **交互流程**：
  ```
  Step 1: 上传多张图片 → 生成4个静态拍立得选项
  Step 2: 选择一张 → 生成动态视频
  ```

### 蒙版编辑

部分效果支持蒙版编辑，可以精确控制编辑区域：

**使用方法**：
1. 上传图片后，点击"蒙版"工具按钮
2. 选择画笔或多边形工具
3. 在图片上绘制要编辑的区域
4. 调整笔刷大小（仅画笔模式）
5. 点击"生成"，AI 只会编辑蒙版区域

**工具说明**：
- **画笔工具**：自由绘制，适合不规则区域
- **多边形工具**：点击创建顶点，适合规则区域
- **撤销**：撤销上一步操作
- **清空**：清除所有蒙版

**最佳实践**：
- 蒙版区域越精确，效果越好
- 使用多边形工具可以获得更清晰的边缘
- 复杂区域可以多次绘制

---

## 💬 AI 对话

与 Gemini AI 进行多模态对话，生成创意内容。

### 基本使用

1. **纯文本对话**：
   - 输入问题或想法
   - AI 会给出文字回复

2. **图片对话**：
   - 点击图片图标上传图片
   - 输入关于图片的问题
   - AI 会分析图片并回复

3. **生成图片**：
   - 描述你想要的图片
   - AI 会生成相应的图片
   - 可以一次生成多张

### 高级功能

#### AI 提示词预处理

开启后，AI 会自动优化你的提示词：

```
你的输入：一只猫
优化后：一只可爱的橘色小猫，坐在阳光明媚的窗台上，
        毛发柔软蓬松，眼睛明亮有神，背景是温馨的家居环境
```

**配置方法**：
1. 点击对话页面的设置图标
2. 开启"AI 预处理"选项
3. 可选择是否附带图片进行预处理

#### 创意多样化

一次生成多个不同风格的图片：

```
你的输入：一座城市
生成结果：
1. 现代科技城市（赛博朋克风格）
2. 古代东方城市（水墨画风格）
3. 未来太空城市（科幻风格）
4. 童话梦幻城市（插画风格）
```

**使用方法**：
1. 在设置中开启"创意多样化"
2. 设置生成数量（2-4张）
3. 输入简短的描述
4. AI 会自动扩展为多个不同风格

### 对话管理

- **编辑消息**：点击用户消息可以重新编辑
- **重新生成**：点击重新生成按钮获得新的回复
- **清空对话**：点击顶部的清空按钮删除所有历史
- **历史长度**：在设置中调整作为上下文的消息数量

---

## 📚 资产库

自动保存所有生成的图片，方便管理和复用。

### 功能特性

1. **自动保存**：
   - 所有生成的图片自动保存
   - 包括增强器和对话中生成的图片
   - 使用浏览器 localStorage 存储

2. **批量操作**：
   - 全选/取消全选
   - 批量下载（ZIP 格式）
   - 批量删除

3. **单张操作**：
   - 点击预览大图
   - 单张下载
   - 用作输入（导入增强器）

4. **图片信息**：
   - 生成时间
   - 使用的效果
   - 提示词（如果有）

### 使用技巧

1. **定期备份**：
   - 浏览器缓存可能被清理
   - 建议定期下载重要图片到本地

2. **快速复用**：
   - 点击"用作输入"可以将图片导入增强器
   - 支持链式编辑，叠加多个效果

3. **空间管理**：
   - localStorage 有大小限制（通常 5-10MB）
   - 定期清理不需要的图片

---

## ⚙️ 设置与配置

### 增强器设置

**生成数量**（1-4张）：
- 1张：快速生成单个结果
- 2-4张：生成多个变体供选择
- 注意：数量越多，耗时越长

**重试次数**（0-5次）：
- 0次：失败后不重试
- 3次：推荐设置，平衡速度和成功率
- 5次：最大重试，适合网络不稳定的情况

### 对话设置

**历史长度**（0-20条）：
- 0条：无上下文，每次都是新对话
- 8条：推荐设置，保持对话连贯性
- 20条：最大上下文，但可能影响响应速度

**AI 预处理**：
- 开启：自动优化提示词，生成更好的结果
- 关闭：直接使用原始提示词

**附带图片预处理**：
- 开启：预处理时考虑上传的图片
- 关闭：仅基于文本预处理

**宽高比**：
- Auto：AI 自动选择
- 1:1：正方形
- 16:9：横向宽屏
- 9:16：竖向（适合手机壁纸）
- 4:3 / 3:4：传统比例

**创意多样化**：
- 开启：一次生成多个不同风格
- 关闭：生成相似的多张图片

### 进阶模式

连续点击应用标题 5 次开启：

**功能**：
- 禁用水印
- 显示更多调试信息
- 访问实验性功能

**注意**：
- 仅用于开发和测试
- 生成的图片不会有水印保护

---

## 🎯 最佳实践

### 图片上传

1. **推荐格式**：PNG、JPEG、WebP
2. **推荐大小**：1-5MB
3. **推荐分辨率**：1024x1024 到 2048x2048
4. **避免**：过大的图片（>10MB）会影响处理速度

### 提示词编写

1. **具体明确**：
   - ❌ "一只猫"
   - ✅ "一只橘色的短毛猫，坐在木质窗台上，阳光从窗户照进来"

2. **描述风格**：
   - 添加艺术风格：水彩画、油画、像素艺术等
   - 添加氛围：温馨、神秘、梦幻等
   - 添加光线：柔和光线、戏剧性光线等

3. **分步描述**：
   - 主体 → 动作 → 环境 → 风格 → 氛围

### 效果叠加

1. **链式编辑**：
   - 先用"高清增强"提升质量
   - 再用艺术效果转换风格
   - 最后用"添加插画"增加元素

2. **推荐组合**：
   - 高清增强 + 时尚杂志
   - 线稿绘画 + 色板换色
   - 照片级真实 + 超写实

---

## 📊 性能优化

### 提升生成速度

1. **减少生成数量**：设置为 1 张
2. **使用较小图片**：压缩后再上传
3. **简化提示词**：避免过于复杂的描述
4. **关闭预处理**：直接使用原始提示词

### 节省 API 配额

1. **精心设计提示词**：减少重试次数
2. **使用批量生成**：一次生成多张，选择最好的
3. **复用生成结果**：使用资产库管理和复用图片

---

## 🔍 故障排除

### 常见错误

**"请求被阻止"**：
- 原因：触发了安全过滤
- 解决：修改提示词，避免敏感内容

**"配额用尽"**：
- 原因：API 调用次数超限
- 解决：等待配额重置或升级计划

**"网络错误"**：
- 原因：无法连接到 Google API
- 解决：检查网络连接和防火墙设置

**"生成失败"**：
- 原因：多种可能
- 解决：查看浏览器控制台的详细错误信息

### 获取帮助

1. 查看浏览器控制台（F12）
2. 查看 [常见问题文档](./常见问题.md)
3. 在 GitHub 提交 Issue
4. 查看 Google AI Studio 的状态页面

---

**文档版本**：v1.0  
**最后更新**：2025-10-27
