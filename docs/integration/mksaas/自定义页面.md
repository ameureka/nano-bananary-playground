好的，这是对您提供的最后一个文档“自定义页面”的完整 Markdown 格式转换。所有内容，包括标题、文本、代码块、结构，以及对所有图片的识别和描述，都已包含在内。至此，您提供的所有文档都已转换完毕。

***

### 文件 28：自定义页面 (Custom Pages)

<+> MkS-aaS 文档
Π
Q 搜索文档
*   **主页**
*   **介绍**
*   <> 代码库
*   **视频教程**
*   **入门**
*   <> 环境设置
*   **配置**
*   **部署**
*   **集成**
    *   数据库
    *   验证
    *   电子邮件
    *   通讯
    *   贮存
    *   支付
    *   致谢
    *   ① 计划任务
    *   人工智能
    *   分析
    *   通知
    *   ○ 验证码
    *   聊天框
    *   关联公司
*   **定制**
    *   目元数据
    *   T字体
    *   主题
    *   图片
    *   国际化
    *   博客
    *   文档
*   **成分**
    *   **● 自定义页面**
    *   登陆页面
    *   用户管理
*   **代码库**
    *   □ IDE 设置
    *   品项目结构
    *   A格式化和 Linting
    *   更新代码库

---

### 自定义页面

了解如何在 MkSaaS 网站中自定义和创建新页面。

本指南涵盖了您的 MkSaaS 网站中的页面系统、如何自定义现有页面以及如何根据您的特定需求创建新页面。

#### 核心功能

MkSaaS 模板包含一个多功能内容管理系统，可让您：

*   自定义法律页面（Cookie 政策、隐私政策、服务条款）
*   维护版本发布的变更日志条目
*   创建营销和信息页面（关于、联系、等候名单）
*   根据您的特定需求添加完全自定义的页面

#### 页面结构

MkSaaS 中的页面分为不同的类别：

##### 法律页面

法律页面存储在 `content/pages` 目录中，并在 `src/app/[locale]/(marketing)/(legal)` 路由中呈现：

*   **Cookie 政策**：有关您的网站如何使用 Cookie 的信息
*   **隐私政策**：有关如何处理用户数据的详细信息
*   **服务条款**：使用服务的规则和规定

##### 变更日志条目

发行说明存储在 `content/changelog` 目录中，并显示在 Changelog 页面上：

*   **变更日志**：每个版本都有自己的 MDX 文件，其中包含版本详细信息和变更

##### 营销页面

营销页面在 `src/app/[locale]/(marketing)/(pages)` 路线中呈现：

*   **关于**：有关您的公司或项目的信息
*   **联系方式**：联系表格和信息
*   **候补名单**：注册提前访问或通知

#### 自定义现有页面

##### 法律页面

法律页面以 MDX 格式编写，位于 `content/pages` 目录中。每个文件包含 frontmatter 元数据和内容正文。

**示例：隐私政策 (`privacy-policy.mdx`)**

`内容/页面/隐私政策.mdx`
```mdx
---
title: Privacy Policy
description: Our commitment to protecting your privacy and personal data
date: "2025-03-10"
published: true
---

## Introduction
Welcome to our Privacy Policy. This document explains how we collect, use, and protect your personal data.
... more content ...
```
要自定义法律页面：

1.  打开 `content/pages` 目录中相应的 MDX 文件。
2.  更新前言元数据（标题、描述、日期）。
3.  修改 Markdown 格式的内容。
4.  保存文件。

该页面将根据您的更改自动更新。

##### 变更日志条目

变更日志条目作为 MDX 文件存储在 `content/changelog` 目录中。

**示例：版本 v1.0.0 (`v1-0-0.mdx`)**

`内容/更新日志/v1-0-0.mdx`
```mdx
---
title: "Initial Release"
description: "Our first official release with core features and functionality"
date: "2024-03-01"
version: "v1.0.0"
published: true
---

### Core Features
We're excited to announce the initial release of our platform with the following core features:

- **User Authentication**: Secure login and registration with email verification
- **Dashboard**: Intuitive dashboard for managing your projects and resources

... more content ...
```
要添加新版本：

1.  在 `content/changelog` 目录中创建一个新的 MDX 文件（例如，`v1-1-0.mdx`）。
2.  添加适当的前言元数据（标题、描述、日期、版本、已发布）。
3.  使用 Markdown 编写发行说明。
4.  保存文件。

新版本将自动出现在您的变更日志页面上，按日期排序（最新的在前）。

#### 创建新页面

您可以根据自己的特定需求创建完全自定义的页面。有两种方法：

##### 1. 基于 MDX 的页面

对于不需要复杂交互的内容繁多的页面：

1.  在 `content/pages` 目录中创建一个新的 MDX 文件（例如 `faq.mdx`）。
2.  添加适当的前置元数据。
3.  以 Markdown 格式编写内容。
4.  在 `src/app/[locale]/(marketing)/(pages)/faq/page.tsx` 中创建新的页面组件。

这是页面组件的模板：
```tsx
const t = await getTranslations({ locale, namespace: 'Metadata' });

return constructMetadata({
  title: page.title + ' | ' + t('title'),
  description: page.description,
  canonicalUrl: getUrlWithLocale('/faq', locale),
});
}

export default async function FAQPage(props: NextPageProps) {
  const params = await props.params;
  if (!params) {
    notFound();
  }
  const locale = params.locale as string;
  const page = await getPage('faq', locale);
  if (!page) {
    notFound();
  }

  return (
    <CustomPage
      title={page.title}
      description={page.description}
      date={page.date}
      content={page.body}
    />
  );
}
```

##### 2. 基于组件的页面

对于需要更复杂交互性的页面：

1.  在 `src/app/[locale]/(marketing)/(pages)` 中创建新目录（例如，`pricing`）。
2.  添加一个 `page.tsx` 文件，用于导出自定义页面组件。

自定义页面组件的示例：
```tsx
import { Button } from '@/components/ui/button';
import { constructMetadata } from '@/lib/metadata';
import { getUrlWithLocale } from '@/lib/urls/urls';
import type { NextPageProps } from '@/types/next-page-props';
import type { Metadata } from 'next';
import type { Locale } from 'next-intl';
import { getTranslations } from 'next-intl/server';

export async function generateMetadata({
  params,
}: {
  params: { locale: Locale };
}): Promise<Metadata | undefined> {
  const { locale } = await params;
  const t = await getTranslations({ locale, namespace: 'Metadata' });
  const pt = await getTranslations({ locale, namespace: 'PricingPage' });
  
  return constructMetadata({
    title: pt('title') + ' | ' + t('title'),
    description: pt('description'),
    canonicalUrl: getUrlWithLocale('/pricing', locale),
  });
}

export default async function PricingPage(props: NextPageProps) {
  const params = await props.params;
  const locale = params?.locale as Locale;
  const t = await getTranslations('PricingPage');

  return (
    <div className="max-w-4xl mx-auto space-y-8">
      {/* ... */}
    </div>
  );
}
```

#### 自定义布局

您可以通过修改以下文件来自定义不同页面类型的布局：

*   `src/app/[locale]/(marketing)/(legal)/layout.tsx` - 用于法律页面
*   `src/app/[locale]/(marketing)/(pages)/layout.tsx` - 用于营销页面

这些布局文件控制页面的容器、间距和整体结构。

#### 页面路由

页面路由定义在 `src/routes.ts` 文件中。路由系统包含几个重要的路由类别，用于控制应用程序中的访问和导航：

##### 受保护的路线

受保护的路由需要用户身份验证才能访问。如果用户在未登录的情况下尝试访问这些路由，他们将被自动重定向到登录页面。登录页面将包含一个 `callbackUrl` 参数，用于在身份验证成功后将用户重定向回其预期目标。
`src/routes.ts`
```ts
export const protectedRoutes = [
  Routes.Dashboard,
  Routes.SettingsProfile,
  Routes.SettingsBilling,
  Routes.SettingsSecurity,
  Routes.SettingsNotifications,
];
```

##### 不允许已登录用户使用的路线

这些路由专门针对已登录的用户进行拦截，目前主要拦截登录和注册页面。当经过身份验证的用户尝试访问这些路由时，他们将被自动重定向到默认的登录重定向页面（通常是仪表板）。
`src/routes.ts`
```ts
export const routesNotAllowedByLoggedInUsers = [
  Routes.Login,
  Routes.Register,
];
```

##### 默认登录重定向

此路由定义用户登录成功后，如果未提供特定的 `callbackUrl`，将被重定向到哪里。默认情况下，它会重定向到仪表板，但您可以在网站配置中进行配置：
`src/routes.ts`
```ts
export const DEFAULT_LOGIN_REDIRECT = websiteConfig.routes.defaultLoginRedirect ?? Routes.Dashboard;
```

#### SEO 优化

MkSaaS 包含页面内置的 SEO 功能：

1.  每个页面使用 `generateMetadata` 函数生成适当的元数据。
2.  自动创建规范 URL。
3.  页面标题和描述用于 SEO 元数据。

`src/lib/metadata.ts`
```ts
export function constructMetadata({
  title,
  description,
  canonicalUrl,
  image,
  noIndex = false,
}: { /* ... */ }): Metadata {
  title = title || defaultMessages.Metadata.title;
  description = description || defaultMessages.Metadata.description;
  image = image || websiteConfig.metadata.images?.ogImage;
  const ogImageUrl = getImageUrl(image || '');
  
  return {
    title,
    description,
    alternates: canonicalUrl ? { canonical: canonicalUrl } : undefined,
    openGraph: {
      type: 'website',
      locale: 'en_US',
      url: canonicalUrl,
      title,
      description,
      // ...
    },
  };
}
```
有关元数据配置的更多信息，请参阅[元数据文档](../customization/metadata)。

#### 最佳实践

*   **保持内容更新**：定期审查和更新您的法律页面和文档。
*   **使用清晰的结构**：使用适当的标题和部分来组织内容。
*   **包含元数据**：始终在前言中提供准确的标题、描述和日期。
*   **优化图像**：如果 MDX 内容中包含图像，请针对 Web 进行优化。
*   **测试翻译**：如果支持多种语言，则测试所有翻译。
*   **移动响应能力**：确保所有页面在移动设备上完全响应。

#### 视频教程

<br>
![图片描述：一个视频教程的缩略图，标题为“MkSaaS模板 网站自定义教程”，副标题为“从定制字体、主题到落地页的全流程实录”。画面中有一个工具箱，象征着网站的自定义和构建。](https://storage.googleapis.com/agent-tools-public-mde/1723149842708-3.png)
> [在 YouTube 上观看：MkSaaS 模板的网站自定义教程](https://www.youtube.com/watch?v=placeholder)
<br>

#### 后续步骤

现在您已了解了如何使用 MkSaaS 中的页面，请探索以下相关主题：

| | |
| :--- | :--- |
| **主题**<br>配置主题和外观设置 | **字体**<br>在您的网站中配置字体 |
| **图片**<br>在您的网站中配置图像 | **网站配置**<br>配置网站设置 |

< **成分**
了解 MkSaaS 中可用的组件以及如何有效地使用它们

**登陆页面 >**
了解如何使用内置营销模块创建美观、响应迅速的着陆页